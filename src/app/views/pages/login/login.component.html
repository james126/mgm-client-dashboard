<div class="bg-light dark:bg-transparent min-vh-100 d-flex flex-row align-items-center">
    <c-container breakpoint="md">

        <!--LOGIN MODULE-->
        <c-modal alignment="center" [ngSwitch]="loginStatus" data-testid="login-modal" [visible]="loginModalVisible" (visibleChange)="handleLoginChange($event)">
            <c-modal-header>
                <h5 cModalTitle>Login Error</h5>
                <button (click)="toggleLoginModalVisibility()" cButtonClose></button>
            </c-modal-header>
            <c-modal-body *ngSwitchCase="'Idle'">Please try again later!</c-modal-body>
            <c-modal-body *ngSwitchCase="'Invalid'">Invalid username or password</c-modal-body>
            <c-modal-body *ngSwitchCase="'Error'">Please try again later!</c-modal-body>
            <c-modal-footer>
                <button (click)="toggleLoginModalVisibility()" cButton color="secondary">
                    Close
                </button>
                <button routerLink="landing" cButton color="primary">Home</button>
            </c-modal-footer>
        </c-modal>

        <!--RESET PASSWORD MODULE-->
        <c-modal alignment="center" data-testid="reset-password-modal" [visible]="resetPassModalVisible" (visibleChange)="handleResetPassChange($event)" backdrop="static">
            <c-modal-header>
                <h5 cModalTitle>Reset Password</h5>
                <button (click)="toggleResetPassModalVisibility()" cButtonClose></button>
            </c-modal-header>
            <c-modal-body>
                https://coreui.io/icons/all/
                //Check Circle
                //X Circle
                <c-col class="mb-5 col-6 col-md-3 col-sm-4 col-xl-2 ng-star-inserted" _nghost-ng-c1814645994="">
                    <svg cIcon="" size="3xl" viewBox="0 0 512 512" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" pointer-events="none" role="img" class="icon icon-3xl">
                        SafeValue must use [property]=binding: <title>cilAnimal</title>
                        <path fill="var(--ci-primary-color, currentColor)"
                              d="M382.825,304.576a131.562,131.562,0,0,0-253.65,0l-18.248,66.15A80,80,0,0,0,188.046,472H323.954a80,80,0,0,0,77.119-101.274Zm-20.682,116.5A47.638,47.638,0,0,1,323.954,440H188.046a48,48,0,0,1-46.272-60.765l18.248-66.149a99.563,99.563,0,0,1,191.956,0l18.248,66.149A47.636,47.636,0,0,1,362.143,421.08Z"
                              class="ci-primary"></path>
                        <path fill="var(--ci-primary-color, currentColor)"
                              d="M146.1,230.31c2.784-17.4-.908-36.027-10.4-52.463S111.92,148.9,95.463,142.611c-17.624-6.731-35.6-5.659-50.634,3.017C14.942,162.884,7.077,205.413,27.3,240.433c9.489,16.436,23.778,28.95,40.235,35.236a64.058,64.058,0,0,0,22.863,4.371,55.133,55.133,0,0,0,27.771-7.389C133.194,263.974,143.114,248.937,146.1,230.31Zm-31.6-5.058c-1.43,8.929-5.81,15.92-12.333,19.686S87.4,249,78.95,245.775c-9.613-3.671-18.115-11.251-23.941-21.342-11.2-19.4-8.538-42.8,5.82-51.092a23.483,23.483,0,0,1,11.847-3.058A31.951,31.951,0,0,1,84.044,172.5c9.613,3.673,18.115,11.252,23.941,21.343S116.124,215.091,114.5,225.252Z"
                              class="ci-primary"></path>
                        <path fill="var(--ci-primary-color, currentColor)"
                              d="M149.566,164.017c11.362,9.083,24.337,13.813,37.458,13.812a54.965,54.965,0,0,0,11.689-1.261c33.723-7.331,54.17-45.443,45.58-84.958h0c-4.03-18.546-13.828-34.817-27.588-45.818-14.735-11.78-32.189-16.239-49.147-12.551-33.722,7.33-54.169,45.442-45.58,84.957C126.009,136.745,135.807,153.016,149.566,164.017Zm24.788-99.506a22.258,22.258,0,0,1,4.732-.5c5.948,0,12.066,2.327,17.637,6.781,8.037,6.425,13.826,16.234,16.3,27.621h0c4.76,21.895-4.906,43.368-21.107,46.89-7.361,1.6-15.305-.628-22.367-6.275-8.037-6.426-13.826-16.235-16.3-27.621C148.488,89.506,158.154,68.033,174.354,64.511Z"
                              class="ci-primary"></path>
                        <path fill="var(--ci-primary-color, currentColor)"
                              d="M467.171,145.628c-15.028-8.676-33.013-9.748-50.634-3.017-16.457,6.287-30.746,18.8-40.235,35.236s-13.182,35.067-10.4,52.463c2.982,18.627,12.9,33.664,27.931,42.341a55.123,55.123,0,0,0,27.771,7.389,64.054,64.054,0,0,0,22.863-4.371c16.457-6.286,30.746-18.8,40.235-35.236C504.923,205.413,497.058,162.884,467.171,145.628Zm-10.18,78.805c-5.826,10.091-14.328,17.671-23.941,21.342-8.446,3.228-16.692,2.931-23.215-.837s-10.9-10.757-12.333-19.686c-1.626-10.161.686-21.314,6.513-31.4s14.328-17.67,23.941-21.343a31.955,31.955,0,0,1,11.368-2.221,23.483,23.483,0,0,1,11.847,3.058C465.529,181.631,468.194,205.028,456.991,224.433Z"
                              class="ci-primary"></path>
                        <path fill="var(--ci-primary-color, currentColor)"
                              d="M313.287,176.568a54.965,54.965,0,0,0,11.689,1.261c13.12,0,26.1-4.729,37.458-13.812,13.759-11,23.557-27.272,27.588-45.818,8.589-39.515-11.858-77.627-45.58-84.957-16.957-3.686-34.412.77-49.147,12.551-13.76,11-23.558,27.272-27.588,45.817C259.117,131.125,279.564,169.237,313.287,176.568Zm-14.31-78.16h0c2.474-11.387,8.263-21.2,16.3-27.621,5.572-4.454,11.689-6.781,17.637-6.781a22.258,22.258,0,0,1,4.732.5c16.2,3.522,25.866,25,21.107,46.89-2.476,11.387-8.265,21.2-16.3,27.622-7.061,5.646-15,7.874-22.367,6.275C303.883,141.776,294.217,120.3,298.977,98.408Z"
                              class="ci-primary"></path>
                        (see https://g.co/ng/security#xss)
                    </svg>
                    <div>cil-animal</div>
                </c-col>
                <form [formGroup]="resetPassword" cForm>
                    <p class="text-body-secondary">To reset your password, enter the email address used when registering your account</p>
                    <c-input-group class="mb-3">
                        <span cInputGroupText>&#64;</span>
                        <input #emailInput [valid]="emailValid" formControlName="email" cFormControl placeholder="Email" data-testid="reset-password-email" />
                    </c-input-group>
                    <c-row>
                    </c-row>
                </form>
            </c-modal-body>
            <c-modal-footer>
                <button routerLink="landing" [disabled]="resetPassword.invalid" cButton color="primary">Send Now</button>
            </c-modal-footer>
        </c-modal>

        <!--FEEDBACK MODULE-->
        <c-modal alignment="center" [ngSwitch]="resetPassStatus" data-testid="resetPassFeedback" [visible]="feedbackModuleVisible" (visibleChange)="handleFeedbackChange($event)">
            <c-modal-header>
                <h5 *ngSwitchCase="'Success'" cModalTitle>Password Sent</h5>
                <h5 *ngSwitchCase="'Error'" cModalTitle>Password Reset Error</h5>
                <h5 *ngSwitchCase="'Idle'" cModalTitle>Password Reset Error</h5>
                <button (click)="toggleFeedbackModalVisibility()" cButtonClose></button>
            </c-modal-header>
            <c-modal-body *ngSwitchCase="'Success'">If an account for abc&#64;abc&#46;com exists, a new password will have been sent to that address.</c-modal-body>
            <c-modal-body *ngSwitchCase="'Error'">lease try again later!</c-modal-body>
            <c-modal-body *ngSwitchCase="'Idle'">Please try again later!</c-modal-body>
            <c-modal-footer>
                <button (click)="toggleFeedbackModalVisibility()" cButton color="secondary">
                    Close
                </button>
            </c-modal-footer>
        </c-modal>

        <c-row class="justify-content-center">
            <c-col lg="10" xl="8">
                <c-card-group>
                    <c-card class="p-4">
                        <c-card-body>
                            <form [formGroup]="login" cForm>
                                <h1>Login</h1>
                                <p class="text-body-secondary">Sign in to your account</p>
                                <c-input-group class="mb-3">
                  <span cInputGroupText>
                    <svg cIcon name="cilUser"></svg>
                  </span>
                                    <input #usernameInput formControlName="username" cFormControl placeholder="Username" data-testid="username" [valid]="usernameValid" />
                                </c-input-group>
                                <c-input-group class="mb-4">
                  <span cInputGroupText>
                    <svg cIcon name="cilLockLocked"></svg>
                  </span>
                                    <input #passwordInput formControlName="password" cFormControl placeholder="Password" data-testid="password" matInput showHideInput id="pass1"
                                           [type]="show1 ? 'txt' : 'password'"
                                           [valid]="passwordValid"
                                    />
                                    <button cButton type="button" variant="outline" data-testid="pass-toggle" (click)="togglePass()" class="toggle-button-focus">
                                        {{ show1 ? 'üëÅÔ∏è' : 'üîí' }}
                                    </button>
                                </c-input-group>
                                <c-row>
                                    <c-col xs="6">
                                        <button cButton (click)="onSubmit()" class="px-4" color="primary" data-testid="submit" [disabled]="login.invalid">
                                            Login
                                        </button>
                                    </c-col>
                                    <c-col class="text-right" xs="6">
                                        <button cButton class="px-0 forgot-password-button-focus" color="link" (click)="forgotPass()" data-testid="forgot-password-link">
                                            Forgot password?
                                        </button>
                                    </c-col>
                                </c-row>
                            </form>
                        </c-card-body>
                    </c-card>
                    <c-card [ngStyle]="{'minWidth.%': 44}" class="text-white bg-primary py-5">
                        <c-card-body class="text-center">
                            <div>
                                <h2>Sign up</h2>
                                <p>
                                    Don't have an account?
                                </p>
                                <button [active]="true" cButton class="mt-3" color="primary" routerLink="/register">
                                    Register Now!
                                </button>
                            </div>
                            <button (click)="toggleLoginModalVisibility()">
                                toggleLoginModalVisibility
                            </button>
                            <button (click)="toggleResetPassModalVisibility()">
                                toggleResetPassModalVisibility
                            </button>
                            <button (click)="toggleFeedbackModalVisibility()">
                                toggleFeedbackModalVisibility
                            </button>
                        </c-card-body>
                    </c-card>
                </c-card-group>
            </c-col>
        </c-row>
    </c-container>
</div>
